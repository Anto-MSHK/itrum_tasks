# itrum_tasks
В файле **"addTwoNumbers.js"** первая часть тестового задания - решение задачи LeetCode (https://leetcode.com/problems/add-two-numbers/).

В папке **"backend"** вторая часть тестового задания: 
1. Напишите ендпоинт, который считывает со счета в базе некую сумму   
Также напишите ендпоинт,  который добавляет на счет некоторую сумму
2. Создайте второе приложение, которое шлет рандомные реквесты - снять/пополнить.
Учтите момент - в случае , если на счету нет денег -  должна выдаваться  ошибка.
Используйте базу данных - PostgreSql  в обоих случаях.

### backend/first

В **backend/first** находится основной сервис который имеет БД на PostgreSql, который хранит и изменяет состояние счёта по запросу.
Чтобы развернуть на 3000, выполнить команды:
- `npm i` 
- `npm run start:dev` (предварительно, создав новую БД и заполнив .env файл по примеру).

После запуска приложения нужно создать одну тестовую запись, указав любое значение параметру **"scope"** (это и есть баланс счёта).

Доступны след. endpoints:
- **GET** /cash/:id - получение информации о счёте по id
- **POST** /cash/topup/:id - пополнение счёта по id (в body - параметр "amount")
- **POST** /cash/withdraw/:id - снятие со счёта по id (в body - параметр "amount")

Если на счёте меньше средств чем указанный **"amount"**, то **/cash/withdraw/:id** падает в ошибку.

### backend/second
В **backend/second** находится дополнительный сервис который отправляет случайные запросы на "first".

Чтобы развернуть на 4000, выполнить команды:
- `npm i`
- `npm run start:dev`

Этот сервис просто посылает случайные запросы на первую запись в БД.
